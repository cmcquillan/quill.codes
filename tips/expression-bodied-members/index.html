<!DOCTYPE html>
<html lang="en-us">

<head>
    


  

    
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-TRTKF60805"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag() { dataLayer.push(arguments); }
      gtag('js', new Date());

      gtag('config', 'G-TRTKF60805');
    </script>

  


    
    <meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0" />
<meta name="description" content="Expression-bodied members are a fantastic feature of the C# language that simplifies and condenses your code." />
<title>Simplify C# with Expression-Bodied Members | Quill.Codes</title>




<link rel="stylesheet" href="https://quill.codes/css/theme.css">

<link href="/css/syntax.css" rel="stylesheet" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet">

<meta name="twitter:card" content="summary_large_image"/>
<meta name="twitter:image" content="https://quill.codes/tips/expression-bodied-members/expression_bodied_members.png"/>

<meta name="twitter:title" content="Simplify C# with Expression-Bodied Members"/>
<meta name="twitter:description" content="Expression-bodied members are a fantastic feature of the C# language that simplifies and condenses your code."/>


<meta property="og:title" content="Simplify C# with Expression-Bodied Members" />
<meta property="og:description" content="Expression-bodied members are a fantastic feature of the C# language that simplifies and condenses your code." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://quill.codes/tips/expression-bodied-members/" />
<meta property="og:image" content="https://quill.codes/tips/expression-bodied-members/expression_bodied_members.png" />
<meta property="article:published_time" content="2020-10-15T14:39:57-07:00" />
<meta property="article:modified_time" content="2020-10-15T14:39:57-07:00" />


<script>
    function shareFacebook(uri) {
        let newWindow = window.open(
            'https://www.facebook.com/sharer/sharer.php?u=' + encodeURIComponent(uri),
            'facebook-share-dialog',
            'width=626,height=436');
    }

    function shareLinkedin(uri) {
        let newWindow = window.open(
            'https://www.linkedin.com/sharing/share-offsite/?url=' + encodeURIComponent(uri),
            'linkedin-share-dialog',
            'width=626,height=640');
    }
</script>
    
    

    
</head>

<body class="bg-gray-200">
<script type="application/ld+json">
  
  {
    "@context": "https://schema.org",
    "@type": "BlogPosting",
    "mainEntityOfPage": {
      "@type": "WebPage",
      "@id": "https:\/\/quill.codes\/tips\/expression-bodied-members\/"
    },
    "headline": "Simplify C# with Expression-Bodied Members",
    "image": "https:\/\/quill.codes\/tips\/expression-bodied-members\/expression_bodied_members.png",  
    "author": {
      "@type": "Person",
      "name": "Casey McQuillan"
    },
    "datePublished": "2020-10-15T14:39"
  }
  </script>


<header class="header shadow-xl">
    <nav class="navbar flex flex-row flex-wrap gap-4 py-2">
        <div class="title ml-6">
            <a class="inline float-left" title="Back to Site Home" href="/">
                <object viewBox="0 0 100 100" height="60" data="/images/blog_icon.svg"
                    alt="The Quill.Codes Site Logo. Logo is an inkwell with a Quill superimposed in front."
                    type="image/svg+xml">
                    The Quill.Codes Site Logo. Logo is an inkwell with a Quill superimposed in front.
                </object>
            </a>
            <a class="title-link uppercase text-4xl underline" title="Back to Site Home" href="/">
                Quill.Codes
            </a>
        </div>
        <div class="nav-links mr-6">
            <ul class="nav-links-list">
                
                
                <li class="inline ">
                    <a class="underline hover:text-gray-400 ml-4" href="/posts/">Blog</a>
                </li>
                
                <li class="inline ">
                    <a class="underline hover:text-gray-400 ml-4" href="/tips/">Tips</a>
                </li>
                
                <li class="inline ">
                    <a class="underline hover:text-gray-400 ml-4" href="/apps/fiddle/">Web Tools</a>
                </li>
                
            </ul>
        </div>
    </nav>
    <figure class="hero w-100 mx-auto">
        <img class="w-100" src="/tips/expression-bodied-members/expression_bodied_members.png" alt="A picture of a C# class with a single string property that uses an expression-bodied member to return a &#39;thumbs up&#39; emoji." />
    </figure>

    
</header><main class="main mx-auto pt-1 pb-8 rounded-t-2xl bg-gray-100 shadow-lg"><aside class="social-icons mx-auto flex items-center justify-center my-2 text-4xl gap-8 text-gray-800">
  <a title="Casey's Twitter Account" rel="nofollow noopener" target="_blank"
    href="https://twitter.com/QuillCodes" class="social-icon fa fa-twitter"></a>
  <a title="Casey's Github Account" rel="nofollow noopener" target="_blank"
    href="https://github.com/cmcquillan" class="social-icon fa fa-github"></a>
  <a title="Casey's LinkedIn Account" rel="nofollow noopener" target="_blank"
    href="https://www.linkedin.com/in/caseymcquillan/" class="social-icon fa fa-linkedin"></a>
  <a title="Quill.Codes RSS Feed" rel="nofollow noopener" target="_blank" href="https://quill.codes/index.xml"
    class="social-icon fa fa-rss"></a>
</aside><hr />


<section class="blog-post">
  <header class="bg-gray-800 blog-post-header">
    <h1 class="px-6 text-3xl text-gray-100"> Simplify C# with Expression-Bodied Members</h1>
  </header>
  <section class="blog-post-details my-4">
    <div class="text-sm text-gray-800">
      <span class="">
        Casey McQuillan
      </span>
    </div>
    <div class="text-sm text-gray-800">
      <span class="">October 15, 2020</span>
    </div>
    <aside class="blog-post-share-icons text-gray-800 text-3xl">
      <a class="fa fa-facebook mx-2 px-4" rel="nofollow noopener"
        href="https://www.facebook.com/sharer/sharer.php?u=https%3a%2f%2fquill.codes%2ftips%2fexpression-bodied-members%2f" target="_blank"
        onclick="shareFacebook('https:\/\/quill.codes\/tips\/expression-bodied-members\/'); return false;" title="Share on Facebook"></a>
      <a class="fa fa-twitter mx-2 px-4" rel="nofollow noopener"
        href="http://twitter.com/share?text=Simplify%20C%23%20with%20Expression-Bodied%20Members&url=https%3a%2f%2fquill.codes%2ftips%2fexpression-bodied-members%2f&&via=QuillCodes"
        target="_blank" title="Share on Twitter"></a>
      <a class="fa fa-linkedin mx-2 px-4" rel="nofollow noopener"
        href="https://www.linkedin.com/sharing/share-offsite/?url=https://quill.codes/posts/fast-prototyping-url-shortener/"
        onclick="shareLinkedin('https:\/\/quill.codes\/tips\/expression-bodied-members\/'); return false;" title="Share on LinkedIn"></a>
    </aside>
  </section>
  <article class="blog-post-content text-gray-800"><h2 id="you-can-simplify-your-syntax-with-effective-application-of-these-techniques">You Can Simplify Your Syntax With Effective Application of These Techniques</h2>
<p>C# is a fantastic language because it constantly evolves in a way that simplifies syntax and makes the your code more expressive. Expression-bodied members were released in C# 6 and further enhanced in C# 7. At the time I was still a junior developer and had not yet decided that C# and .NET were going to be my long-term focus.</p>
<p>I am not going to say that this feature &ldquo;sealed the deal&rdquo; for me and .NET, but it&rsquo;s definitely the feature I miss most when using any other language.</p>
<h3 id="basics-of-expression-bodied-members">Basics of Expression-bodied Members</h3>
<p>The simplest form is just to take any existing read-only property and condense it down.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-csharp" data-lang="csharp"><span class="k">public</span> <span class="kt">int</span> <span class="n">MyProperty</span>
<span class="p">{</span>
  <span class="k">get</span> 
  <span class="p">{</span>
    <span class="k">return</span> <span class="n">_myField</span><span class="p">;</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre></td></tr></table>
</div>
</div><p>When converted to an expression-bodied member this becomes:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-csharp" data-lang="csharp"><span class="k">public</span> <span class="kt">int</span> <span class="n">MyProperty</span> <span class="p">=&gt;</span> <span class="n">_myField</span><span class="p">;</span>
</code></pre></td></tr></table>
</div>
</div><p>You can even use it to simplify method bodies:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-csharp" data-lang="csharp"><span class="k">public</span> <span class="kt">decimal</span> <span class="n">CalculateTax</span><span class="p">(</span><span class="kt">decimal</span> <span class="n">rate</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="n">_totalPrice</span> <span class="p">*</span> <span class="n">rate</span><span class="p">;</span>
</code></pre></td></tr></table>
</div>
</div><p>It saves you time, and it saves you space on your screen. Most C# style conventions say that the opening bracket <code>{</code> and closing bracket <code>}</code> belong on new lines (with some exceptions). You could argue with the style guide, but on a larger team that is probably a losing battle. This feature solves this problem by omitting the brackets entirely.</p>
<h3 id="expression-bodied-members-can-reduce-boilerplate">Expression-bodied Members Can Reduce Boilerplate</h3>
<p>Not impressed yet? What if I told you that you can use expression-bodied members on full properties? This means that you can use this technique for both a getter and setter to reduce the clutter associated with a fully-implemented C# property.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-csharp" data-lang="csharp"><span class="k">private</span> <span class="kt">int</span> <span class="n">_myField</span><span class="p">;</span>

<span class="k">public</span> <span class="kt">int</span> <span class="n">MyProperty</span> 
<span class="p">{</span>
  <span class="k">get</span> <span class="p">=&gt;</span> <span class="n">_myField</span><span class="p">;</span> 
  <span class="k">set</span> <span class="p">=&gt;</span> <span class="n">_myField</span> <span class="p">=</span> <span class="k">value</span><span class="p">;</span>  
<span class="p">}</span>
</code></pre></td></tr></table>
</div>
</div><p>That is a bit more efficient when reading your code, but honestly it is not <em>that</em> impressive until you have some more logic to call on your getter/setter. Extracting that logic to a method and using a <code>ref</code> parameter for your field can help clarify how your code functions.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-csharp" data-lang="csharp"><span class="k">private</span> <span class="kt">int</span> <span class="n">_myField</span><span class="p">;</span>

<span class="k">public</span> <span class="kt">int</span> <span class="n">MyProperty</span>
<span class="p">{</span>
  <span class="k">get</span> <span class="p">=&gt;</span> <span class="n">_myField</span><span class="p">;</span>
  <span class="k">set</span> <span class="p">=&gt;</span> <span class="n">SetAndLogField</span><span class="p">(</span><span class="k">ref</span> <span class="n">_myField</span><span class="p">,</span> <span class="k">value</span><span class="p">);</span>
<span class="p">}</span>

<span class="k">private</span> <span class="k">void</span> <span class="n">SetAndLogField</span><span class="p">(</span><span class="k">ref</span> <span class="kt">int</span> <span class="n">field</span><span class="p">,</span> <span class="kt">int</span> <span class="k">value</span><span class="p">,</span> <span class="p">[</span><span class="n">CallerMemberName</span><span class="p">]</span><span class="kt">string</span> <span class="n">memberName</span> <span class="p">=</span>  <span class="s">&#34;&#34;</span><span class="p">)</span>
<span class="p">{</span>
  <span class="n">field</span> <span class="p">=</span> <span class="k">value</span><span class="p">;</span>
  <span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="s">$&#34;{memberName} was set to {value}.&#34;</span><span class="p">);</span>
<span class="p">}</span>

<span class="c1">// Output for &#34;MyProperty = 5&#34;
</span><span class="c1">// MyProperty was set to 5.
</span></code></pre></td></tr></table>
</div>
</div><h3 id="expression-bodied-members-can-be-used-in-constructors">Expression-Bodied Members Can be Used in Constructors</h3>
<p>The most repetive boilerplate I see in my own C# code is when I am setting class fields in constructors. It accomplishes the critical task of initializing the object, but if someone is focused on making <em>simple</em> and <em>legible</em> objects with clear APIs, then the task often becomes repetive.</p>
<p>When there is just a single assignment, expression-bodied members are extremely consise:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-csharp" data-lang="csharp"><span class="k">public</span> <span class="k">class</span> <span class="nc">Cake</span>
<span class="p">{</span>
  <span class="k">private</span> <span class="k">readonly</span> <span class="n">IFrosting</span> <span class="n">_frosting</span><span class="p">;</span>

  <span class="k">public</span> <span class="n">Cake</span><span class="p">(</span><span class="n">IFrosting</span> <span class="n">frosting</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="n">_frosting</span> <span class="p">=</span> <span class="n">frosting</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></td></tr></table>
</div>
</div><p>This simplifies your single-assignment constructors greatly. However, you can also combine this with tuple syntax in order to perform multiple assignments at once.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-csharp" data-lang="csharp"><span class="k">public</span> <span class="k">class</span> <span class="nc">Cake</span>
<span class="p">{</span>
  <span class="k">private</span> <span class="k">readonly</span> <span class="n">ISprinkles</span> <span class="n">_sprinkles</span><span class="p">;</span>
  <span class="k">private</span> <span class="k">readonly</span> <span class="n">IFrosting</span> <span class="n">_frosting</span><span class="p">;</span>

  <span class="k">public</span> <span class="n">Cake</span><span class="p">(</span><span class="n">ISprinkles</span> <span class="n">sprinkles</span><span class="p">,</span> <span class="n">IFrosting</span> <span class="n">frosting</span><span class="p">)</span>
    <span class="p">=&gt;</span> <span class="p">(</span><span class="n">_sprinkles</span><span class="p">,</span> <span class="n">_frosting</span><span class="p">)</span> <span class="p">=</span> <span class="p">(</span><span class="n">sprinkles</span><span class="p">,</span> <span class="n">frosting</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></td></tr></table>
</div>
</div><p>This syntax will assign the fields in the order that they appear in the tuple.</p>
<p><em>Note: Keep in mind that if your parameters are all of similar types, like <code>string</code>, that getting them in the wrong order can be easy using this syntax. However, fields of different types will be caught by the compiles. Thus, I would only recommend it when assigning simple constructors with varied types for fields.</em></p>
<h3 id="in-conclusion">In Conclusion</h3>
<p>I hope you enjoyed this quick overview of one of my favorite features of the C# language. This language feature can be used to improve readability, identify areas for logic encapsulation, and to simplify rote object construction. As C# continues to evolve, there are likely to be other improvements that enhance the expressiveness and overall cleanliness of the language.</p>
</article>
</section>
<div class="blog-post-comments">
  <div id="disqus_thread"></div>
<script type="application/javascript">
    var disqus_config = function () {
    
    
    
    };
    (function() {
        if (["localhost", "127.0.0.1"].indexOf(window.location.hostname) != -1) {
            document.getElementById('disqus_thread').innerHTML = 'Disqus comments not available by default when the website is previewed locally.';
            return;
        }
        var d = document, s = d.createElement('script'); s.async = true;
        s.src = '//' + "quill-codes" + '.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="https://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
</div>

</main>
    <footer class="footer"><section class="text-center text-gray-800 text-sm">
  Copyright &copy; 2020 Quill Technologies, LLC
</section>
</footer></body>

</html>
